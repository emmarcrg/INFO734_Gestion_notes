<div class="saisie-page">
  <div class="form">
    <h2>Saisie des notes</h2>

    <!-- Selection du semestre -->
    <div class="selection-semestre">
      <label for="semestre">Sélectionnez le semestre :</label>
      <div>
        <button
          type="button"
          *ngFor="let semestre of semestres"
          (click)="selectionner_semestre(semestre.code)"
          [class.selected]="semestre_selectionne === semestre.code">
          {{ semestre.nom }}
        </button>
      </div>
    </div>

    <!-- Selection de la matière -->
    <div class="selection-matiere">
      <label for="matiere">Sélectionnez la matière :</label>
      <select
        id="matiere"
        [(ngModel)]="matiere_selectionnee"
        [disabled]="!semestre_selectionne">
        <option *ngFor="let matiere of recuperer_matieres()" [value]="matiere._id">
          {{ matiere.nom }}
        </option>
        <option *ngIf="!semestre_selectionne" disabled>
          Veuillez d'abord sélectionner un semestre
        </option>
      </select>
    </div>

    <!-- Saisie de la note -->
    <div class="saisie-note">
      <label for="note">Saisissez la note :</label>
      <input
        type="number"
        id="note"
        [(ngModel)]="note"
        [disabled]="!matiere_selectionnee || !semestre_selectionne"
        placeholder="Entrez une note" />
    </div>

    <!-- Bouton pour soumettre -->
    <button
      type="button"
      (click)="handleSubmit()"
      [disabled]="!matiere_selectionnee || !note">
      Valider
    </button>

    <!-- Message de confirmation ou d'erreur -->
    <div *ngIf="message" class="message">
      {{ message }}
    </div>
  </div>
</div>
