<div class="affichage_notes">
  <div class="affichage-notes-container">
    <h2>Affichage des notes</h2>

    <!-- Sélection du semestre -->
    <div class="selection-semestre">
      <button *ngFor="let semestre of semestres" (click)="selectionnerSemestre(semestre.code)">
        {{ semestre.nom }}
      </button>
    </div>

    <!-- Tableau des matières et notes -->
    <div *ngIf="semestre_selectionne">
      <h3>Matières du Semestre {{ semestre_selectionne.nom }}</h3>
      <table>
        <thead>
          <tr>
            <th>Matière</th>
            <th>Note Élève</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let item of matieres_semestre">
            <td>{{ item.matiere.code }} - {{ item.matiere.nom }}</td>
            <td>{{ item.note?.note_eleve ?? 'N/A' }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Statistiques globales -->
    <div *ngIf="semestre_selectionne && matieres_semestre.length > 0">
      <h3>Statistiques</h3>
      <ul>
        <li><strong>Moyenne de l'élève :</strong> {{ moyenne_eleve | number:'1.2-2' }}</li>
        <li><strong>Note la plus haute :</strong> {{ note_plus_haute }}</li>
        <li><strong>Note la plus basse :</strong> {{ note_plus_basse }}</li>
      </ul>
    </div>

    <!-- Affichage des UEs -->
    <div *ngIf="ues.length > 0">
      <h3>Unités d'Enseignement (UE)</h3>
      <table>
        <thead>
          <tr>
            <th>UE</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let ue of ues">
            <td>{{ ue.code }} - {{ ue.nom }}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>

<footer class="menu-footer">
  <ul class="nav-menu">
    <li><button type="button" (click)="navigateToAccueil()">Accueil</button></li>
    <li><button type="button" (click)="navigateToSaisieNote()">Saisie Note</button></li>
    <li><button type="button" (click)="navigateToAffichageNote()">Affichage Note</button></li>
  </ul>
</footer>
